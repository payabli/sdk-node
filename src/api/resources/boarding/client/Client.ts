// This file was auto-generated by Fern from our API Definition.

import type { BaseClientOptions, BaseRequestOptions } from "../../../../BaseClient.js";
import { type NormalizedClientOptionsWithAuth, normalizeClientOptionsWithAuth } from "../../../../BaseClient.js";
import { mergeHeaders } from "../../../../core/headers.js";
import * as core from "../../../../core/index.js";
import { toJson } from "../../../../core/json.js";
import * as environments from "../../../../environments.js";
import { handleNonStatusCodeError } from "../../../../errors/handleNonStatusCodeError.js";
import * as errors from "../../../../errors/index.js";
import * as Payabli from "../../../index.js";

export declare namespace BoardingClient {
    export interface Options extends BaseClientOptions {}

    export interface RequestOptions extends BaseRequestOptions {}
}

export class BoardingClient {
    protected readonly _options: NormalizedClientOptionsWithAuth<BoardingClient.Options>;

    constructor(options: BoardingClient.Options = {}) {
        this._options = normalizeClientOptionsWithAuth(options);
    }

    /**
     * Creates a boarding application in an organization. This endpoint requires an application API token.
     *
     * @param {Payabli.AddApplicationRequest} request
     * @param {BoardingClient.RequestOptions} requestOptions - Request-specific configuration.
     *
     * @throws {@link Payabli.BadRequestError}
     * @throws {@link Payabli.UnauthorizedError}
     * @throws {@link Payabli.InternalServerError}
     * @throws {@link Payabli.ServiceUnavailableError}
     *
     * @example
     *     await client.boarding.addApplication({
     *         services: {
     *             ach: {},
     *             card: {
     *                 acceptAmex: true,
     *                 acceptDiscover: true,
     *                 acceptMastercard: true,
     *                 acceptVisa: true
     *             }
     *         },
     *         annualRevenue: 1000,
     *         averageBillSize: "500",
     *         averageMonthlyBill: "5650",
     *         avgmonthly: 1000,
     *         baddress: "123 Walnut Street",
     *         baddress1: "Suite 103",
     *         bankData: {},
     *         bcity: "New Vegas",
     *         bcountry: "US",
     *         binperson: 60,
     *         binphone: 20,
     *         binweb: 20,
     *         bstate: "FL",
     *         bsummary: "Brick and mortar store that sells office supplies",
     *         btype: "Limited Liability Company",
     *         bzip: "33000",
     *         contacts: [{
     *                 contactEmail: "herman@hermanscoatings.com",
     *                 contactName: "Herman Martinez",
     *                 contactPhone: "3055550000",
     *                 contactTitle: "Owner"
     *             }],
     *         creditLimit: "creditLimit",
     *         dbaName: "Sunshine Gutters",
     *         ein: "123456789",
     *         faxnumber: "1234567890",
     *         highticketamt: 1000,
     *         legalName: "Sunshine Services, LLC",
     *         license: "2222222FFG",
     *         licstate: "CA",
     *         maddress: "123 Walnut Street",
     *         maddress1: "STE 900",
     *         mcc: "7777",
     *         mcity: "Johnson City",
     *         mcountry: "US",
     *         mstate: "TN",
     *         mzip: "37615",
     *         orgId: 123,
     *         ownership: [{
     *                 oaddress: "33 North St",
     *                 ocity: "Any City",
     *                 ocountry: "US",
     *                 odriverstate: "CA",
     *                 ostate: "CA",
     *                 ownerdob: "01/01/1990",
     *                 ownerdriver: "CA6677778",
     *                 owneremail: "test@email.com",
     *                 ownername: "John Smith",
     *                 ownerpercent: 100,
     *                 ownerphone1: "555888111",
     *                 ownerphone2: "555888111",
     *                 ownerssn: "123456789",
     *                 ownertitle: "CEO",
     *                 ozip: "55555"
     *             }],
     *         phonenumber: "1234567890",
     *         processingRegion: "US",
     *         recipientEmail: "josephray@example.com",
     *         recipientEmailNotification: true,
     *         resumable: true,
     *         signer: {
     *             address: "33 North St",
     *             address1: "STE 900",
     *             city: "Bristol",
     *             country: "US",
     *             dob: "01/01/1976",
     *             email: "test@email.com",
     *             name: "John Smith",
     *             phone: "555888111",
     *             ssn: "123456789",
     *             state: "TN",
     *             zip: "55555",
     *             pciAttestation: true,
     *             signedDocumentReference: "https://example.com/signed-document.pdf",
     *             attestationDate: "04/20/2025",
     *             signDate: "04/20/2025",
     *             additionalData: "{\"deviceId\":\"499585-389fj484-3jcj8hj3\",\"session\":\"fifji4-fiu443-fn4843\",\"timeWithCompany\":\"6 Years\"}"
     *         },
     *         startdate: "01/01/1990",
     *         taxFillName: "Sunshine LLC",
     *         templateId: 22,
     *         ticketamt: 1000,
     *         website: "www.example.com",
     *         whenCharged: "When Service Provided",
     *         whenDelivered: "Over 30 Days",
     *         whenProvided: "30 Days or Less",
     *         whenRefunded: "30 Days or Less"
     *     })
     *
     * @example
     *     await client.boarding.addApplication({
     *         annualRevenue: 750000,
     *         baddress: "789 Industrial Parkway",
     *         baddress1: "Unit 12",
     *         bankData: [{
     *                 accountNumber: "1XXXXXX3100",
     *                 bankAccountFunction: 1,
     *                 bankAccountHolderName: "Herman's Coatings LLC",
     *                 bankAccountHolderType: "Business",
     *                 bankName: "First Miami Bank",
     *                 nickname: "Withdrawal Account",
     *                 routingAccount: "123123123",
     *                 typeAccount: "Checking",
     *                 accountId: "123-456"
     *             }, {
     *                 accountNumber: "1XXXXXX3200",
     *                 bankAccountFunction: 0,
     *                 bankAccountHolderName: "Herman's Coatings LLC",
     *                 bankAccountHolderType: "Business",
     *                 bankName: "First Miami Bank",
     *                 nickname: "Deposit Account",
     *                 routingAccount: "123123123",
     *                 typeAccount: "Checking",
     *                 accountId: "123-789"
     *             }, {
     *                 accountNumber: "1XXXXXX3123",
     *                 bankAccountFunction: 3,
     *                 bankAccountHolderName: "Herman's Coatings LLC",
     *                 bankAccountHolderType: "Business",
     *                 bankName: "First Miami Bank",
     *                 nickname: "Remittance Account",
     *                 routingAccount: "123123123",
     *                 typeAccount: "Checking",
     *                 accountId: "123-100"
     *             }],
     *         bcity: "Miami",
     *         bcountry: "US",
     *         bstate: "FL",
     *         bsummary: "Commercial and industrial coating services, including protective and decorative coatings",
     *         btype: "Limited Liability Company",
     *         bzip: "33101",
     *         contacts: [{
     *                 contactEmail: "herman@hermanscoatings.com",
     *                 contactName: "Herman Martinez",
     *                 contactPhone: "3055550000",
     *                 contactTitle: "Owner"
     *             }],
     *         dbaname: "Herman's Coatings",
     *         ein: "123456789",
     *         faxnumber: "3055550001",
     *         legalname: "Herman's Coatings LLC",
     *         license: "FL123456",
     *         licstate: "FL",
     *         maddress: "789 Industrial Parkway",
     *         maddress1: "Unit 12",
     *         mcc: "1799",
     *         mcity: "Miami",
     *         mcountry: "US",
     *         mstate: "FL",
     *         mzip: "33101",
     *         orgId: 123,
     *         ownership: [{
     *                 oaddress: "123 Palm Avenue",
     *                 ocity: "Miami",
     *                 ocountry: "US",
     *                 odriverstate: "FL",
     *                 ostate: "FL",
     *                 ownerdob: "05/15/1980",
     *                 ownerdriver: "FL789456",
     *                 owneremail: "herman@hermanscoatings.com",
     *                 ownername: "Herman Martinez",
     *                 ownerpercent: 100,
     *                 ownerphone1: "3055550000",
     *                 ownerphone2: "3055550002",
     *                 ownerssn: "123456789",
     *                 ownertitle: "Owner",
     *                 ozip: "33102"
     *             }],
     *         phonenumber: "3055550000",
     *         recipientEmail: "herman@hermanscoatings.com",
     *         recipientEmailNotification: true,
     *         resumable: true,
     *         signer: {
     *             address: "33 North St",
     *             address1: "STE 900",
     *             city: "Bristol",
     *             country: "US",
     *             dob: "01/01/1976",
     *             email: "test@email.com",
     *             name: "John Smith",
     *             phone: "555888111",
     *             ssn: "123456789",
     *             state: "TN",
     *             zip: "55555",
     *             pciAttestation: true,
     *             signedDocumentReference: "https://example.com/signed-document.pdf",
     *             attestationDate: "04/20/2025",
     *             signDate: "04/20/2025",
     *             additionalData: "{\"deviceId\":\"499585-389fj484-3jcj8hj3\",\"session\":\"fifji4-fiu443-fn4843\",\"timeWithCompany\":\"6 Years\"}"
     *         },
     *         startdate: "01/01/2015",
     *         taxfillname: "Herman's Coatings LLC",
     *         templateId: 22,
     *         website: "www.hermanscoatings.com"
     *     })
     *
     * @example
     *     await client.boarding.addApplication({
     *         services: {
     *             ach: {
     *                 acceptCCD: true,
     *                 acceptPPD: true,
     *                 acceptWeb: true
     *             },
     *             card: {
     *                 acceptAmex: true,
     *                 acceptDiscover: true,
     *                 acceptMastercard: true,
     *                 acceptVisa: true
     *             },
     *             odp: {
     *                 allowAch: true,
     *                 allowChecks: true,
     *                 allowVCard: true,
     *                 processing_region: "US",
     *                 processor: "tsys",
     *                 issuerNetworkSettingsId: "12345678901234"
     *             }
     *         },
     *         annualRevenue: 750000,
     *         baddress: "789 Industrial Parkway",
     *         baddress1: "Unit 12",
     *         bankData: [{
     *                 accountNumber: "1XXXXXX3100",
     *                 bankAccountFunction: 1,
     *                 bankAccountHolderName: "Herman's Coatings LLC",
     *                 bankAccountHolderType: "Business",
     *                 bankName: "First Miami Bank",
     *                 nickname: "Withdrawal Account",
     *                 routingAccount: "123123123",
     *                 typeAccount: "Checking",
     *                 accountId: "333-789"
     *             }, {
     *                 accountNumber: "1XXXXXX3200",
     *                 bankAccountFunction: 0,
     *                 bankAccountHolderName: "Herman's Coatings LLC",
     *                 bankAccountHolderType: "Business",
     *                 bankName: "First Miami Bank",
     *                 nickname: "Deposit Account",
     *                 routingAccount: "123123123",
     *                 typeAccount: "Checking",
     *                 accountId: "333-234"
     *             }, {
     *                 accountNumber: "1XXXXXX3123",
     *                 bankAccountFunction: 3,
     *                 bankAccountHolderName: "Herman's Coatings LLC",
     *                 bankAccountHolderType: "Business",
     *                 bankName: "First Miami Bank",
     *                 nickname: "Remittance Account",
     *                 routingAccount: "123123123",
     *                 typeAccount: "Checking",
     *                 accountId: "333-567"
     *             }],
     *         bcity: "Miami",
     *         bcountry: "US",
     *         bstate: "FL",
     *         bsummary: "Commercial and industrial coating services, including protective and decorative coatings",
     *         btype: "Limited Liability Company",
     *         bzip: "33101",
     *         contacts: [{
     *                 contactEmail: "herman@hermanscoatings.com",
     *                 contactName: "Herman Martinez",
     *                 contactPhone: "3055550000",
     *                 contactTitle: "Owner"
     *             }],
     *         dbaname: "Herman's Coatings",
     *         ein: "123456789",
     *         faxnumber: "3055550001",
     *         highticketamt: 15000,
     *         legalname: "Herman's Coatings LLC",
     *         license: "FL123456",
     *         licstate: "FL",
     *         maddress: "789 Industrial Parkway",
     *         maddress1: "Unit 12",
     *         mcc: "1799",
     *         mcity: "Miami",
     *         mcountry: "US",
     *         mstate: "FL",
     *         mzip: "33101",
     *         orgId: 123,
     *         ownership: [{
     *                 oaddress: "123 Palm Avenue",
     *                 ocity: "Miami",
     *                 ocountry: "US",
     *                 odriverstate: "FL",
     *                 ostate: "FL",
     *                 ownerdob: "05/15/1980",
     *                 ownerdriver: "FL789456",
     *                 owneremail: "herman@hermanscoatings.com",
     *                 ownername: "Herman Martinez",
     *                 ownerpercent: 100,
     *                 ownerphone1: "3055550000",
     *                 ownerphone2: "3055550002",
     *                 ownerssn: "123456789",
     *                 ownertitle: "Owner",
     *                 ozip: "33102"
     *             }],
     *         payoutAverageMonthlyVolume: 50000,
     *         payoutAverageTicketAmount: 3500,
     *         payoutCreditLimit: 25000,
     *         payoutHighTicketAmount: 15000,
     *         phonenumber: "3055550000",
     *         recipientEmail: "herman@hermanscoatings.com",
     *         recipientEmailNotification: true,
     *         resumable: true,
     *         signer: {
     *             address: "33 North St",
     *             address1: "STE 900",
     *             city: "Bristol",
     *             country: "US",
     *             dob: "01/01/1976",
     *             email: "test@email.com",
     *             name: "John Smith",
     *             phone: "555888111",
     *             ssn: "123456789",
     *             state: "TN",
     *             zip: "55555",
     *             pciAttestation: true,
     *             signedDocumentReference: "https://example.com/signed-document.pdf",
     *             attestationDate: "04/20/2025",
     *             signDate: "04/20/2025",
     *             additionalData: "{\"deviceId\":\"499585-389fj484-3jcj8hj3\",\"session\":\"fifji4-fiu443-fn4843\",\"timeWithCompany\":\"6 Years\"}"
     *         },
     *         startdate: "01/01/2015",
     *         taxfillname: "Herman's Coatings LLC",
     *         templateId: 22,
     *         website: "www.hermanscoatings.com"
     *     })
     *
     * @example
     *     await client.boarding.addApplication({
     *         services: {
     *             ach: {
     *                 acceptCCD: true,
     *                 acceptPPD: true,
     *                 acceptWeb: true
     *             },
     *             card: {
     *                 acceptAmex: true,
     *                 acceptDiscover: true,
     *                 acceptMastercard: true,
     *                 acceptVisa: true
     *             },
     *             odp: {
     *                 allowAch: false,
     *                 allowChecks: false,
     *                 allowVCard: false
     *             }
     *         },
     *         annualRevenue: 750000,
     *         attachments: [{}, {}],
     *         baddress: "789 Industrial Parkway",
     *         baddress1: "Unit 12",
     *         bankData: [{
     *                 accountNumber: "1XXXXXX3100",
     *                 bankAccountFunction: 1,
     *                 bankAccountHolderName: "Herman's Coatings LLC",
     *                 bankAccountHolderType: "Business",
     *                 bankName: "First Miami Bank",
     *                 id: 123,
     *                 nickname: "Withdrawal Account",
     *                 routingAccount: "123123123",
     *                 typeAccount: "Checking",
     *                 accountId: "123-789"
     *             }, {
     *                 accountNumber: "1XXXXXX3200",
     *                 bankAccountFunction: 0,
     *                 bankAccountHolderName: "Herman's Coatings LLC",
     *                 bankAccountHolderType: "Business",
     *                 bankName: "First Miami Bank",
     *                 id: 456,
     *                 nickname: "Deposit Account",
     *                 routingAccount: "123123123",
     *                 typeAccount: "Checking",
     *                 accountId: "123-456"
     *             }, {
     *                 accountNumber: "1XXXXXX3123",
     *                 bankAccountFunction: 3,
     *                 bankAccountHolderName: "Herman's Coatings LLC",
     *                 bankAccountHolderType: "Business",
     *                 bankName: "First Miami Bank",
     *                 id: 987,
     *                 nickname: "Remittance Account",
     *                 routingAccount: "123123123",
     *                 typeAccount: "Checking",
     *                 accountId: "123-100"
     *             }],
     *         bcity: "Miami",
     *         bcountry: "US",
     *         boardingLinkId: "bl_123456",
     *         bstate: "FL",
     *         bsummary: "Commercial and industrial coating services, including protective and decorative coatings",
     *         btype: "Limited Liability Company",
     *         bzip: "33101",
     *         contacts: [{
     *                 contactEmail: "herman@hermanscoatings.com",
     *                 contactName: "Herman Martinez",
     *                 contactPhone: "3055550000",
     *                 contactTitle: "Owner"
     *             }],
     *         dbaname: "Herman's Coatings",
     *         ein: "123456789",
     *         faxnumber: "3055550001",
     *         highticketamt: 15000,
     *         legalname: "Herman's Coatings LLC",
     *         license: "FL123456",
     *         licstate: "FL",
     *         maddress: "789 Industrial Parkway",
     *         maddress1: "Unit 12",
     *         mcc: "1799",
     *         mcity: "Miami",
     *         mcountry: "US",
     *         mstate: "FL",
     *         mzip: "33101",
     *         orgId: 123,
     *         ownership: [{
     *                 oaddress: "123 Palm Avenue",
     *                 ocity: "Miami",
     *                 ocountry: "US",
     *                 odriverstate: "FL",
     *                 ostate: "FL",
     *                 ownerdob: "05/15/1980",
     *                 ownerdriver: "FL789456",
     *                 owneremail: "herman@hermanscoatings.com",
     *                 ownername: "Herman Martinez",
     *                 ownerpercent: 100,
     *                 ownerphone1: "3055550000",
     *                 ownerphone2: "3055550002",
     *                 ownerssn: "123456789",
     *                 ownertitle: "Owner",
     *                 ozip: "33102"
     *             }],
     *         payoutAverageMonthlyVolume: 50000,
     *         payoutAverageTicketAmount: 500,
     *         payoutCreditLimit: 25000,
     *         payoutHighTicketAmount: 15000,
     *         phonenumber: "3055550000",
     *         recipientEmail: "herman@hermanscoatings.com",
     *         recipientEmailNotification: true,
     *         resumable: true,
     *         signer: {
     *             address: "33 North St",
     *             address1: "STE 900",
     *             city: "Bristol",
     *             country: "US",
     *             dob: "01/01/1976",
     *             email: "test@email.com",
     *             name: "John Smith",
     *             phone: "555888111",
     *             ssn: "123456789",
     *             state: "TN",
     *             zip: "55555",
     *             pciAttestation: true,
     *             signedDocumentReference: "https://example.com/signed-document.pdf",
     *             attestationDate: "04/20/2025",
     *             signDate: "04/20/2025",
     *             additionalData: "{\"deviceId\":\"499585-389fj484-3jcj8hj3\",\"session\":\"fifji4-fiu443-fn4843\",\"timeWithCompany\":\"6 Years\"}"
     *         },
     *         startdate: "01/01/2015",
     *         taxfillname: "Herman's Coatings LLC",
     *         templateId: 22,
     *         website: "www.hermanscoatings.com"
     *     })
     */
    public addApplication(
        request: Payabli.AddApplicationRequest,
        requestOptions?: BoardingClient.RequestOptions,
    ): core.HttpResponsePromise<Payabli.PayabliApiResponse00Responsedatanonobject> {
        return core.HttpResponsePromise.fromPromise(this.__addApplication(request, requestOptions));
    }

    private async __addApplication(
        request: Payabli.AddApplicationRequest,
        requestOptions?: BoardingClient.RequestOptions,
    ): Promise<core.WithRawResponse<Payabli.PayabliApiResponse00Responsedatanonobject>> {
        const _authRequest: core.AuthRequest = await this._options.authProvider.getAuthRequest();
        const _headers: core.Fetcher.Args["headers"] = mergeHeaders(
            _authRequest.headers,
            this._options?.headers,
            requestOptions?.headers,
        );
        const _response = await core.fetcher({
            url: core.url.join(
                (await core.Supplier.get(this._options.baseUrl)) ??
                    (await core.Supplier.get(this._options.environment)) ??
                    environments.PayabliEnvironment.Sandbox,
                "Boarding/app",
            ),
            method: "POST",
            headers: _headers,
            contentType: "application/json",
            queryParameters: requestOptions?.queryParams,
            requestType: "json",
            body: request,
            timeoutMs: (requestOptions?.timeoutInSeconds ?? this._options?.timeoutInSeconds ?? 60) * 1000,
            maxRetries: requestOptions?.maxRetries ?? this._options?.maxRetries,
            abortSignal: requestOptions?.abortSignal,
            fetchFn: this._options?.fetch,
            logging: this._options.logging,
        });
        if (_response.ok) {
            return {
                data: _response.body as Payabli.PayabliApiResponse00Responsedatanonobject,
                rawResponse: _response.rawResponse,
            };
        }

        if (_response.error.reason === "status-code") {
            switch (_response.error.statusCode) {
                case 400:
                    throw new Payabli.BadRequestError(_response.error.body as unknown, _response.rawResponse);
                case 401:
                    throw new Payabli.UnauthorizedError(_response.error.body as unknown, _response.rawResponse);
                case 500:
                    throw new Payabli.InternalServerError(_response.error.body as unknown, _response.rawResponse);
                case 503:
                    throw new Payabli.ServiceUnavailableError(
                        _response.error.body as Payabli.PayabliApiResponse,
                        _response.rawResponse,
                    );
                default:
                    throw new errors.PayabliError({
                        statusCode: _response.error.statusCode,
                        body: _response.error.body,
                        rawResponse: _response.rawResponse,
                    });
            }
        }

        return handleNonStatusCodeError(_response.error, _response.rawResponse, "POST", "/Boarding/app");
    }

    /**
     * Deletes a boarding application by ID.
     *
     * @param {number} appId - Boarding application ID.
     * @param {BoardingClient.RequestOptions} requestOptions - Request-specific configuration.
     *
     * @throws {@link Payabli.BadRequestError}
     * @throws {@link Payabli.UnauthorizedError}
     * @throws {@link Payabli.InternalServerError}
     * @throws {@link Payabli.ServiceUnavailableError}
     *
     * @example
     *     await client.boarding.deleteApplication(352)
     */
    public deleteApplication(
        appId: number,
        requestOptions?: BoardingClient.RequestOptions,
    ): core.HttpResponsePromise<Payabli.PayabliApiResponse00Responsedatanonobject> {
        return core.HttpResponsePromise.fromPromise(this.__deleteApplication(appId, requestOptions));
    }

    private async __deleteApplication(
        appId: number,
        requestOptions?: BoardingClient.RequestOptions,
    ): Promise<core.WithRawResponse<Payabli.PayabliApiResponse00Responsedatanonobject>> {
        const _authRequest: core.AuthRequest = await this._options.authProvider.getAuthRequest();
        const _headers: core.Fetcher.Args["headers"] = mergeHeaders(
            _authRequest.headers,
            this._options?.headers,
            requestOptions?.headers,
        );
        const _response = await core.fetcher({
            url: core.url.join(
                (await core.Supplier.get(this._options.baseUrl)) ??
                    (await core.Supplier.get(this._options.environment)) ??
                    environments.PayabliEnvironment.Sandbox,
                `Boarding/app/${core.url.encodePathParam(appId)}`,
            ),
            method: "DELETE",
            headers: _headers,
            queryParameters: requestOptions?.queryParams,
            timeoutMs: (requestOptions?.timeoutInSeconds ?? this._options?.timeoutInSeconds ?? 60) * 1000,
            maxRetries: requestOptions?.maxRetries ?? this._options?.maxRetries,
            abortSignal: requestOptions?.abortSignal,
            fetchFn: this._options?.fetch,
            logging: this._options.logging,
        });
        if (_response.ok) {
            return {
                data: _response.body as Payabli.PayabliApiResponse00Responsedatanonobject,
                rawResponse: _response.rawResponse,
            };
        }

        if (_response.error.reason === "status-code") {
            switch (_response.error.statusCode) {
                case 400:
                    throw new Payabli.BadRequestError(_response.error.body as unknown, _response.rawResponse);
                case 401:
                    throw new Payabli.UnauthorizedError(_response.error.body as unknown, _response.rawResponse);
                case 500:
                    throw new Payabli.InternalServerError(_response.error.body as unknown, _response.rawResponse);
                case 503:
                    throw new Payabli.ServiceUnavailableError(
                        _response.error.body as Payabli.PayabliApiResponse,
                        _response.rawResponse,
                    );
                default:
                    throw new errors.PayabliError({
                        statusCode: _response.error.statusCode,
                        body: _response.error.body,
                        rawResponse: _response.rawResponse,
                    });
            }
        }

        return handleNonStatusCodeError(_response.error, _response.rawResponse, "DELETE", "/Boarding/app/{appId}");
    }

    /**
     * Retrieves the details for a boarding application by ID.
     *
     * @param {number} appId - Boarding application ID.
     * @param {BoardingClient.RequestOptions} requestOptions - Request-specific configuration.
     *
     * @throws {@link Payabli.BadRequestError}
     * @throws {@link Payabli.UnauthorizedError}
     * @throws {@link Payabli.InternalServerError}
     * @throws {@link Payabli.ServiceUnavailableError}
     *
     * @example
     *     await client.boarding.getApplication(352)
     */
    public getApplication(
        appId: number,
        requestOptions?: BoardingClient.RequestOptions,
    ): core.HttpResponsePromise<Payabli.ApplicationDetailsRecord> {
        return core.HttpResponsePromise.fromPromise(this.__getApplication(appId, requestOptions));
    }

    private async __getApplication(
        appId: number,
        requestOptions?: BoardingClient.RequestOptions,
    ): Promise<core.WithRawResponse<Payabli.ApplicationDetailsRecord>> {
        const _authRequest: core.AuthRequest = await this._options.authProvider.getAuthRequest();
        const _headers: core.Fetcher.Args["headers"] = mergeHeaders(
            _authRequest.headers,
            this._options?.headers,
            requestOptions?.headers,
        );
        const _response = await core.fetcher({
            url: core.url.join(
                (await core.Supplier.get(this._options.baseUrl)) ??
                    (await core.Supplier.get(this._options.environment)) ??
                    environments.PayabliEnvironment.Sandbox,
                `Boarding/read/${core.url.encodePathParam(appId)}`,
            ),
            method: "GET",
            headers: _headers,
            queryParameters: requestOptions?.queryParams,
            timeoutMs: (requestOptions?.timeoutInSeconds ?? this._options?.timeoutInSeconds ?? 60) * 1000,
            maxRetries: requestOptions?.maxRetries ?? this._options?.maxRetries,
            abortSignal: requestOptions?.abortSignal,
            fetchFn: this._options?.fetch,
            logging: this._options.logging,
        });
        if (_response.ok) {
            return { data: _response.body as Payabli.ApplicationDetailsRecord, rawResponse: _response.rawResponse };
        }

        if (_response.error.reason === "status-code") {
            switch (_response.error.statusCode) {
                case 400:
                    throw new Payabli.BadRequestError(_response.error.body as unknown, _response.rawResponse);
                case 401:
                    throw new Payabli.UnauthorizedError(_response.error.body as unknown, _response.rawResponse);
                case 500:
                    throw new Payabli.InternalServerError(_response.error.body as unknown, _response.rawResponse);
                case 503:
                    throw new Payabli.ServiceUnavailableError(
                        _response.error.body as Payabli.PayabliApiResponse,
                        _response.rawResponse,
                    );
                default:
                    throw new errors.PayabliError({
                        statusCode: _response.error.statusCode,
                        body: _response.error.body,
                        rawResponse: _response.rawResponse,
                    });
            }
        }

        return handleNonStatusCodeError(_response.error, _response.rawResponse, "GET", "/Boarding/read/{appId}");
    }

    /**
     * Gets a boarding application by authentication information. This endpoint requires an `application` API token.
     *
     * @param {string} xId - The application ID in Hex format. Find this at the end of the boarding link URL returned in a call to api/Boarding/applink/{appId}/{mail2}. For example in:  `https://boarding-sandbox.payabli.com/boarding/externalapp/load/17E`, the xId is `17E`.
     * @param {Payabli.RequestAppByAuth} request
     * @param {BoardingClient.RequestOptions} requestOptions - Request-specific configuration.
     *
     * @throws {@link Payabli.BadRequestError}
     * @throws {@link Payabli.UnauthorizedError}
     * @throws {@link Payabli.InternalServerError}
     * @throws {@link Payabli.ServiceUnavailableError}
     *
     * @example
     *     await client.boarding.getApplicationByAuth("17E", {
     *         email: "admin@email.com",
     *         referenceId: "n6UCd1f1ygG7"
     *     })
     */
    public getApplicationByAuth(
        xId: string,
        request: Payabli.RequestAppByAuth = {},
        requestOptions?: BoardingClient.RequestOptions,
    ): core.HttpResponsePromise<Payabli.ApplicationQueryRecord> {
        return core.HttpResponsePromise.fromPromise(this.__getApplicationByAuth(xId, request, requestOptions));
    }

    private async __getApplicationByAuth(
        xId: string,
        request: Payabli.RequestAppByAuth = {},
        requestOptions?: BoardingClient.RequestOptions,
    ): Promise<core.WithRawResponse<Payabli.ApplicationQueryRecord>> {
        const _authRequest: core.AuthRequest = await this._options.authProvider.getAuthRequest();
        const _headers: core.Fetcher.Args["headers"] = mergeHeaders(
            _authRequest.headers,
            this._options?.headers,
            requestOptions?.headers,
        );
        const _response = await core.fetcher({
            url: core.url.join(
                (await core.Supplier.get(this._options.baseUrl)) ??
                    (await core.Supplier.get(this._options.environment)) ??
                    environments.PayabliEnvironment.Sandbox,
                `Boarding/read/${core.url.encodePathParam(xId)}`,
            ),
            method: "POST",
            headers: _headers,
            contentType: "application/json",
            queryParameters: requestOptions?.queryParams,
            requestType: "json",
            body: request,
            timeoutMs: (requestOptions?.timeoutInSeconds ?? this._options?.timeoutInSeconds ?? 60) * 1000,
            maxRetries: requestOptions?.maxRetries ?? this._options?.maxRetries,
            abortSignal: requestOptions?.abortSignal,
            fetchFn: this._options?.fetch,
            logging: this._options.logging,
        });
        if (_response.ok) {
            return { data: _response.body as Payabli.ApplicationQueryRecord, rawResponse: _response.rawResponse };
        }

        if (_response.error.reason === "status-code") {
            switch (_response.error.statusCode) {
                case 400:
                    throw new Payabli.BadRequestError(_response.error.body as unknown, _response.rawResponse);
                case 401:
                    throw new Payabli.UnauthorizedError(_response.error.body as unknown, _response.rawResponse);
                case 500:
                    throw new Payabli.InternalServerError(_response.error.body as unknown, _response.rawResponse);
                case 503:
                    throw new Payabli.ServiceUnavailableError(
                        _response.error.body as Payabli.PayabliApiResponse,
                        _response.rawResponse,
                    );
                default:
                    throw new errors.PayabliError({
                        statusCode: _response.error.statusCode,
                        body: _response.error.body,
                        rawResponse: _response.rawResponse,
                    });
            }
        }

        return handleNonStatusCodeError(_response.error, _response.rawResponse, "POST", "/Boarding/read/{xId}");
    }

    /**
     * Retrieves details for a boarding link, by ID.
     *
     * @param {number} boardingLinkId - The boarding link ID. You can find this at the end of the boarding link reference name. For example `https://boarding.payabli.com/boarding/app/myorgaccountname-00091`. The ID is `91`.
     * @param {BoardingClient.RequestOptions} requestOptions - Request-specific configuration.
     *
     * @throws {@link Payabli.BadRequestError}
     * @throws {@link Payabli.UnauthorizedError}
     * @throws {@link Payabli.InternalServerError}
     * @throws {@link Payabli.ServiceUnavailableError}
     *
     * @example
     *     await client.boarding.getByIdLinkApplication(91)
     */
    public getByIdLinkApplication(
        boardingLinkId: number,
        requestOptions?: BoardingClient.RequestOptions,
    ): core.HttpResponsePromise<Payabli.BoardingLinkQueryRecord> {
        return core.HttpResponsePromise.fromPromise(this.__getByIdLinkApplication(boardingLinkId, requestOptions));
    }

    private async __getByIdLinkApplication(
        boardingLinkId: number,
        requestOptions?: BoardingClient.RequestOptions,
    ): Promise<core.WithRawResponse<Payabli.BoardingLinkQueryRecord>> {
        const _authRequest: core.AuthRequest = await this._options.authProvider.getAuthRequest();
        const _headers: core.Fetcher.Args["headers"] = mergeHeaders(
            _authRequest.headers,
            this._options?.headers,
            requestOptions?.headers,
        );
        const _response = await core.fetcher({
            url: core.url.join(
                (await core.Supplier.get(this._options.baseUrl)) ??
                    (await core.Supplier.get(this._options.environment)) ??
                    environments.PayabliEnvironment.Sandbox,
                `Boarding/linkbyId/${core.url.encodePathParam(boardingLinkId)}`,
            ),
            method: "GET",
            headers: _headers,
            queryParameters: requestOptions?.queryParams,
            timeoutMs: (requestOptions?.timeoutInSeconds ?? this._options?.timeoutInSeconds ?? 60) * 1000,
            maxRetries: requestOptions?.maxRetries ?? this._options?.maxRetries,
            abortSignal: requestOptions?.abortSignal,
            fetchFn: this._options?.fetch,
            logging: this._options.logging,
        });
        if (_response.ok) {
            return { data: _response.body as Payabli.BoardingLinkQueryRecord, rawResponse: _response.rawResponse };
        }

        if (_response.error.reason === "status-code") {
            switch (_response.error.statusCode) {
                case 400:
                    throw new Payabli.BadRequestError(_response.error.body as unknown, _response.rawResponse);
                case 401:
                    throw new Payabli.UnauthorizedError(_response.error.body as unknown, _response.rawResponse);
                case 500:
                    throw new Payabli.InternalServerError(_response.error.body as unknown, _response.rawResponse);
                case 503:
                    throw new Payabli.ServiceUnavailableError(
                        _response.error.body as Payabli.PayabliApiResponse,
                        _response.rawResponse,
                    );
                default:
                    throw new errors.PayabliError({
                        statusCode: _response.error.statusCode,
                        body: _response.error.body,
                        rawResponse: _response.rawResponse,
                    });
            }
        }

        return handleNonStatusCodeError(
            _response.error,
            _response.rawResponse,
            "GET",
            "/Boarding/linkbyId/{boardingLinkId}",
        );
    }

    /**
     * Get details for a boarding link using the boarding template ID. This endpoint requires an application API token.
     *
     * @param {number} templateId - The boarding template ID. You can find this at the end of the boarding template URL in PartnerHub. Example: `https://partner-sandbox.payabli.com/myorganization/boarding/edittemplate/80`. Here, the template ID is `80`.
     * @param {BoardingClient.RequestOptions} requestOptions - Request-specific configuration.
     *
     * @throws {@link Payabli.BadRequestError}
     * @throws {@link Payabli.UnauthorizedError}
     * @throws {@link Payabli.InternalServerError}
     * @throws {@link Payabli.ServiceUnavailableError}
     *
     * @example
     *     await client.boarding.getByTemplateIdLinkApplication(80)
     */
    public getByTemplateIdLinkApplication(
        templateId: number,
        requestOptions?: BoardingClient.RequestOptions,
    ): core.HttpResponsePromise<Payabli.BoardingLinkQueryRecord> {
        return core.HttpResponsePromise.fromPromise(this.__getByTemplateIdLinkApplication(templateId, requestOptions));
    }

    private async __getByTemplateIdLinkApplication(
        templateId: number,
        requestOptions?: BoardingClient.RequestOptions,
    ): Promise<core.WithRawResponse<Payabli.BoardingLinkQueryRecord>> {
        const _authRequest: core.AuthRequest = await this._options.authProvider.getAuthRequest();
        const _headers: core.Fetcher.Args["headers"] = mergeHeaders(
            _authRequest.headers,
            this._options?.headers,
            requestOptions?.headers,
        );
        const _response = await core.fetcher({
            url: core.url.join(
                (await core.Supplier.get(this._options.baseUrl)) ??
                    (await core.Supplier.get(this._options.environment)) ??
                    environments.PayabliEnvironment.Sandbox,
                `Boarding/linkbyTemplate/${core.url.encodePathParam(templateId)}`,
            ),
            method: "GET",
            headers: _headers,
            queryParameters: requestOptions?.queryParams,
            timeoutMs: (requestOptions?.timeoutInSeconds ?? this._options?.timeoutInSeconds ?? 60) * 1000,
            maxRetries: requestOptions?.maxRetries ?? this._options?.maxRetries,
            abortSignal: requestOptions?.abortSignal,
            fetchFn: this._options?.fetch,
            logging: this._options.logging,
        });
        if (_response.ok) {
            return { data: _response.body as Payabli.BoardingLinkQueryRecord, rawResponse: _response.rawResponse };
        }

        if (_response.error.reason === "status-code") {
            switch (_response.error.statusCode) {
                case 400:
                    throw new Payabli.BadRequestError(_response.error.body as unknown, _response.rawResponse);
                case 401:
                    throw new Payabli.UnauthorizedError(_response.error.body as unknown, _response.rawResponse);
                case 500:
                    throw new Payabli.InternalServerError(_response.error.body as unknown, _response.rawResponse);
                case 503:
                    throw new Payabli.ServiceUnavailableError(
                        _response.error.body as Payabli.PayabliApiResponse,
                        _response.rawResponse,
                    );
                default:
                    throw new errors.PayabliError({
                        statusCode: _response.error.statusCode,
                        body: _response.error.body,
                        rawResponse: _response.rawResponse,
                    });
            }
        }

        return handleNonStatusCodeError(
            _response.error,
            _response.rawResponse,
            "GET",
            "/Boarding/linkbyTemplate/{templateId}",
        );
    }

    /**
     * Retrieves a link and the verification code used to log into an existing boarding application. You can also use this endpoint to send a link and referenceId for an existing boarding application to an email address. The recipient can use the referenceId and email address to access and edit the application.
     *
     * @param {number} appId - Boarding application ID.
     * @param {string} mail2 - Email address used to access the application. If `sendEmail` parameter is true, a link to the application is sent to this email address.
     * @param {Payabli.GetExternalApplicationRequest} request
     * @param {BoardingClient.RequestOptions} requestOptions - Request-specific configuration.
     *
     * @throws {@link Payabli.BadRequestError}
     * @throws {@link Payabli.UnauthorizedError}
     * @throws {@link Payabli.InternalServerError}
     * @throws {@link Payabli.ServiceUnavailableError}
     *
     * @example
     *     await client.boarding.getExternalApplication(352, "mail2")
     */
    public getExternalApplication(
        appId: number,
        mail2: string,
        request: Payabli.GetExternalApplicationRequest = {},
        requestOptions?: BoardingClient.RequestOptions,
    ): core.HttpResponsePromise<Payabli.PayabliApiResponse00> {
        return core.HttpResponsePromise.fromPromise(
            this.__getExternalApplication(appId, mail2, request, requestOptions),
        );
    }

    private async __getExternalApplication(
        appId: number,
        mail2: string,
        request: Payabli.GetExternalApplicationRequest = {},
        requestOptions?: BoardingClient.RequestOptions,
    ): Promise<core.WithRawResponse<Payabli.PayabliApiResponse00>> {
        const { sendEmail } = request;
        const _queryParams: Record<string, string | string[] | object | object[] | null> = {};
        if (sendEmail != null) {
            _queryParams.sendEmail = sendEmail.toString();
        }

        const _authRequest: core.AuthRequest = await this._options.authProvider.getAuthRequest();
        const _headers: core.Fetcher.Args["headers"] = mergeHeaders(
            _authRequest.headers,
            this._options?.headers,
            requestOptions?.headers,
        );
        const _response = await core.fetcher({
            url: core.url.join(
                (await core.Supplier.get(this._options.baseUrl)) ??
                    (await core.Supplier.get(this._options.environment)) ??
                    environments.PayabliEnvironment.Sandbox,
                `Boarding/applink/${core.url.encodePathParam(appId)}/${core.url.encodePathParam(mail2)}`,
            ),
            method: "PUT",
            headers: _headers,
            queryParameters: { ..._queryParams, ...requestOptions?.queryParams },
            timeoutMs: (requestOptions?.timeoutInSeconds ?? this._options?.timeoutInSeconds ?? 60) * 1000,
            maxRetries: requestOptions?.maxRetries ?? this._options?.maxRetries,
            abortSignal: requestOptions?.abortSignal,
            fetchFn: this._options?.fetch,
            logging: this._options.logging,
        });
        if (_response.ok) {
            return { data: _response.body as Payabli.PayabliApiResponse00, rawResponse: _response.rawResponse };
        }

        if (_response.error.reason === "status-code") {
            switch (_response.error.statusCode) {
                case 400:
                    throw new Payabli.BadRequestError(_response.error.body as unknown, _response.rawResponse);
                case 401:
                    throw new Payabli.UnauthorizedError(_response.error.body as unknown, _response.rawResponse);
                case 500:
                    throw new Payabli.InternalServerError(_response.error.body as unknown, _response.rawResponse);
                case 503:
                    throw new Payabli.ServiceUnavailableError(
                        _response.error.body as Payabli.PayabliApiResponse,
                        _response.rawResponse,
                    );
                default:
                    throw new errors.PayabliError({
                        statusCode: _response.error.statusCode,
                        body: _response.error.body,
                        rawResponse: _response.rawResponse,
                    });
            }
        }

        return handleNonStatusCodeError(
            _response.error,
            _response.rawResponse,
            "PUT",
            "/Boarding/applink/{appId}/{mail2}",
        );
    }

    /**
     * Retrieves the details for a boarding link, by reference name. This endpoint requires an application API token.
     *
     * @param {string} boardingLinkReference - The boarding link reference name. You can find this at the end of the boarding link URL. For example `https://boarding.payabli.com/boarding/app/myorgaccountname-00091`
     * @param {BoardingClient.RequestOptions} requestOptions - Request-specific configuration.
     *
     * @throws {@link Payabli.BadRequestError}
     * @throws {@link Payabli.UnauthorizedError}
     * @throws {@link Payabli.InternalServerError}
     * @throws {@link Payabli.ServiceUnavailableError}
     *
     * @example
     *     await client.boarding.getLinkApplication("myorgaccountname-00091")
     */
    public getLinkApplication(
        boardingLinkReference: string,
        requestOptions?: BoardingClient.RequestOptions,
    ): core.HttpResponsePromise<Payabli.BoardingLinkQueryRecord> {
        return core.HttpResponsePromise.fromPromise(this.__getLinkApplication(boardingLinkReference, requestOptions));
    }

    private async __getLinkApplication(
        boardingLinkReference: string,
        requestOptions?: BoardingClient.RequestOptions,
    ): Promise<core.WithRawResponse<Payabli.BoardingLinkQueryRecord>> {
        const _authRequest: core.AuthRequest = await this._options.authProvider.getAuthRequest();
        const _headers: core.Fetcher.Args["headers"] = mergeHeaders(
            _authRequest.headers,
            this._options?.headers,
            requestOptions?.headers,
        );
        const _response = await core.fetcher({
            url: core.url.join(
                (await core.Supplier.get(this._options.baseUrl)) ??
                    (await core.Supplier.get(this._options.environment)) ??
                    environments.PayabliEnvironment.Sandbox,
                `Boarding/link/${core.url.encodePathParam(boardingLinkReference)}`,
            ),
            method: "GET",
            headers: _headers,
            queryParameters: requestOptions?.queryParams,
            timeoutMs: (requestOptions?.timeoutInSeconds ?? this._options?.timeoutInSeconds ?? 60) * 1000,
            maxRetries: requestOptions?.maxRetries ?? this._options?.maxRetries,
            abortSignal: requestOptions?.abortSignal,
            fetchFn: this._options?.fetch,
            logging: this._options.logging,
        });
        if (_response.ok) {
            return { data: _response.body as Payabli.BoardingLinkQueryRecord, rawResponse: _response.rawResponse };
        }

        if (_response.error.reason === "status-code") {
            switch (_response.error.statusCode) {
                case 400:
                    throw new Payabli.BadRequestError(_response.error.body as unknown, _response.rawResponse);
                case 401:
                    throw new Payabli.UnauthorizedError(_response.error.body as unknown, _response.rawResponse);
                case 500:
                    throw new Payabli.InternalServerError(_response.error.body as unknown, _response.rawResponse);
                case 503:
                    throw new Payabli.ServiceUnavailableError(
                        _response.error.body as Payabli.PayabliApiResponse,
                        _response.rawResponse,
                    );
                default:
                    throw new errors.PayabliError({
                        statusCode: _response.error.statusCode,
                        body: _response.error.body,
                        rawResponse: _response.rawResponse,
                    });
            }
        }

        return handleNonStatusCodeError(
            _response.error,
            _response.rawResponse,
            "GET",
            "/Boarding/link/{boardingLinkReference}",
        );
    }

    /**
     * Returns a list of boarding applications for an organization. Use filters to limit results. Include the `exportFormat` query parameter to return the results as a file instead of a JSON response.
     *
     * @param {number} orgId - The numeric identifier for organization, assigned by Payabli.
     * @param {Payabli.ListApplicationsRequest} request
     * @param {BoardingClient.RequestOptions} requestOptions - Request-specific configuration.
     *
     * @throws {@link Payabli.BadRequestError}
     * @throws {@link Payabli.UnauthorizedError}
     * @throws {@link Payabli.InternalServerError}
     * @throws {@link Payabli.ServiceUnavailableError}
     *
     * @example
     *     await client.boarding.listApplications(123, {
     *         fromRecord: 251,
     *         limitRecord: 0,
     *         sortBy: "desc(field_name)"
     *     })
     */
    public listApplications(
        orgId: number,
        request: Payabli.ListApplicationsRequest = {},
        requestOptions?: BoardingClient.RequestOptions,
    ): core.HttpResponsePromise<Payabli.QueryBoardingAppsListResponse> {
        return core.HttpResponsePromise.fromPromise(this.__listApplications(orgId, request, requestOptions));
    }

    private async __listApplications(
        orgId: number,
        request: Payabli.ListApplicationsRequest = {},
        requestOptions?: BoardingClient.RequestOptions,
    ): Promise<core.WithRawResponse<Payabli.QueryBoardingAppsListResponse>> {
        const { exportFormat, fromRecord, limitRecord, parameters, sortBy } = request;
        const _queryParams: Record<string, string | string[] | object | object[] | null> = {};
        if (exportFormat != null) {
            _queryParams.exportFormat = exportFormat;
        }

        if (fromRecord != null) {
            _queryParams.fromRecord = fromRecord.toString();
        }

        if (limitRecord != null) {
            _queryParams.limitRecord = limitRecord.toString();
        }

        if (parameters != null) {
            _queryParams.parameters = toJson(parameters);
        }

        if (sortBy != null) {
            _queryParams.sortBy = sortBy;
        }

        const _authRequest: core.AuthRequest = await this._options.authProvider.getAuthRequest();
        const _headers: core.Fetcher.Args["headers"] = mergeHeaders(
            _authRequest.headers,
            this._options?.headers,
            requestOptions?.headers,
        );
        const _response = await core.fetcher({
            url: core.url.join(
                (await core.Supplier.get(this._options.baseUrl)) ??
                    (await core.Supplier.get(this._options.environment)) ??
                    environments.PayabliEnvironment.Sandbox,
                `Query/boarding/${core.url.encodePathParam(orgId)}`,
            ),
            method: "GET",
            headers: _headers,
            queryParameters: { ..._queryParams, ...requestOptions?.queryParams },
            timeoutMs: (requestOptions?.timeoutInSeconds ?? this._options?.timeoutInSeconds ?? 60) * 1000,
            maxRetries: requestOptions?.maxRetries ?? this._options?.maxRetries,
            abortSignal: requestOptions?.abortSignal,
            fetchFn: this._options?.fetch,
            logging: this._options.logging,
        });
        if (_response.ok) {
            return {
                data: _response.body as Payabli.QueryBoardingAppsListResponse,
                rawResponse: _response.rawResponse,
            };
        }

        if (_response.error.reason === "status-code") {
            switch (_response.error.statusCode) {
                case 400:
                    throw new Payabli.BadRequestError(_response.error.body as unknown, _response.rawResponse);
                case 401:
                    throw new Payabli.UnauthorizedError(_response.error.body as unknown, _response.rawResponse);
                case 500:
                    throw new Payabli.InternalServerError(_response.error.body as unknown, _response.rawResponse);
                case 503:
                    throw new Payabli.ServiceUnavailableError(
                        _response.error.body as Payabli.PayabliApiResponse,
                        _response.rawResponse,
                    );
                default:
                    throw new errors.PayabliError({
                        statusCode: _response.error.statusCode,
                        body: _response.error.body,
                        rawResponse: _response.rawResponse,
                    });
            }
        }

        return handleNonStatusCodeError(_response.error, _response.rawResponse, "GET", "/Query/boarding/{orgId}");
    }

    /**
     * Return a list of boarding links for an organization. Use filters to limit results.
     *
     * @param {number} orgId - The numeric identifier for organization, assigned by Payabli.
     * @param {Payabli.ListBoardingLinksRequest} request
     * @param {BoardingClient.RequestOptions} requestOptions - Request-specific configuration.
     *
     * @throws {@link Payabli.BadRequestError}
     * @throws {@link Payabli.UnauthorizedError}
     * @throws {@link Payabli.InternalServerError}
     * @throws {@link Payabli.ServiceUnavailableError}
     *
     * @example
     *     await client.boarding.listBoardingLinks(123, {
     *         fromRecord: 251,
     *         limitRecord: 0,
     *         sortBy: "desc(field_name)"
     *     })
     */
    public listBoardingLinks(
        orgId: number,
        request: Payabli.ListBoardingLinksRequest = {},
        requestOptions?: BoardingClient.RequestOptions,
    ): core.HttpResponsePromise<Payabli.QueryBoardingLinksResponse> {
        return core.HttpResponsePromise.fromPromise(this.__listBoardingLinks(orgId, request, requestOptions));
    }

    private async __listBoardingLinks(
        orgId: number,
        request: Payabli.ListBoardingLinksRequest = {},
        requestOptions?: BoardingClient.RequestOptions,
    ): Promise<core.WithRawResponse<Payabli.QueryBoardingLinksResponse>> {
        const { fromRecord, limitRecord, parameters, sortBy } = request;
        const _queryParams: Record<string, string | string[] | object | object[] | null> = {};
        if (fromRecord != null) {
            _queryParams.fromRecord = fromRecord.toString();
        }

        if (limitRecord != null) {
            _queryParams.limitRecord = limitRecord.toString();
        }

        if (parameters != null) {
            _queryParams.parameters = toJson(parameters);
        }

        if (sortBy != null) {
            _queryParams.sortBy = sortBy;
        }

        const _authRequest: core.AuthRequest = await this._options.authProvider.getAuthRequest();
        const _headers: core.Fetcher.Args["headers"] = mergeHeaders(
            _authRequest.headers,
            this._options?.headers,
            requestOptions?.headers,
        );
        const _response = await core.fetcher({
            url: core.url.join(
                (await core.Supplier.get(this._options.baseUrl)) ??
                    (await core.Supplier.get(this._options.environment)) ??
                    environments.PayabliEnvironment.Sandbox,
                `Query/boardinglinks/${core.url.encodePathParam(orgId)}`,
            ),
            method: "GET",
            headers: _headers,
            queryParameters: { ..._queryParams, ...requestOptions?.queryParams },
            timeoutMs: (requestOptions?.timeoutInSeconds ?? this._options?.timeoutInSeconds ?? 60) * 1000,
            maxRetries: requestOptions?.maxRetries ?? this._options?.maxRetries,
            abortSignal: requestOptions?.abortSignal,
            fetchFn: this._options?.fetch,
            logging: this._options.logging,
        });
        if (_response.ok) {
            return { data: _response.body as Payabli.QueryBoardingLinksResponse, rawResponse: _response.rawResponse };
        }

        if (_response.error.reason === "status-code") {
            switch (_response.error.statusCode) {
                case 400:
                    throw new Payabli.BadRequestError(_response.error.body as unknown, _response.rawResponse);
                case 401:
                    throw new Payabli.UnauthorizedError(_response.error.body as unknown, _response.rawResponse);
                case 500:
                    throw new Payabli.InternalServerError(_response.error.body as unknown, _response.rawResponse);
                case 503:
                    throw new Payabli.ServiceUnavailableError(
                        _response.error.body as Payabli.PayabliApiResponse,
                        _response.rawResponse,
                    );
                default:
                    throw new errors.PayabliError({
                        statusCode: _response.error.statusCode,
                        body: _response.error.body,
                        rawResponse: _response.rawResponse,
                    });
            }
        }

        return handleNonStatusCodeError(_response.error, _response.rawResponse, "GET", "/Query/boardinglinks/{orgId}");
    }

    /**
     * Updates a boarding application by ID. This endpoint requires an application API token.
     *
     * @param {number} appId - Boarding application ID.
     * @param {Payabli.ApplicationData} request
     * @param {BoardingClient.RequestOptions} requestOptions - Request-specific configuration.
     *
     * @throws {@link Payabli.BadRequestError}
     * @throws {@link Payabli.UnauthorizedError}
     * @throws {@link Payabli.InternalServerError}
     * @throws {@link Payabli.ServiceUnavailableError}
     *
     * @example
     *     await client.boarding.updateApplication(352, {})
     */
    public updateApplication(
        appId: number,
        request: Payabli.ApplicationData,
        requestOptions?: BoardingClient.RequestOptions,
    ): core.HttpResponsePromise<Payabli.PayabliApiResponse00Responsedatanonobject> {
        return core.HttpResponsePromise.fromPromise(this.__updateApplication(appId, request, requestOptions));
    }

    private async __updateApplication(
        appId: number,
        request: Payabli.ApplicationData,
        requestOptions?: BoardingClient.RequestOptions,
    ): Promise<core.WithRawResponse<Payabli.PayabliApiResponse00Responsedatanonobject>> {
        const _authRequest: core.AuthRequest = await this._options.authProvider.getAuthRequest();
        const _headers: core.Fetcher.Args["headers"] = mergeHeaders(
            _authRequest.headers,
            this._options?.headers,
            requestOptions?.headers,
        );
        const _response = await core.fetcher({
            url: core.url.join(
                (await core.Supplier.get(this._options.baseUrl)) ??
                    (await core.Supplier.get(this._options.environment)) ??
                    environments.PayabliEnvironment.Sandbox,
                `Boarding/app/${core.url.encodePathParam(appId)}`,
            ),
            method: "PUT",
            headers: _headers,
            contentType: "application/json",
            queryParameters: requestOptions?.queryParams,
            requestType: "json",
            body: request,
            timeoutMs: (requestOptions?.timeoutInSeconds ?? this._options?.timeoutInSeconds ?? 60) * 1000,
            maxRetries: requestOptions?.maxRetries ?? this._options?.maxRetries,
            abortSignal: requestOptions?.abortSignal,
            fetchFn: this._options?.fetch,
            logging: this._options.logging,
        });
        if (_response.ok) {
            return {
                data: _response.body as Payabli.PayabliApiResponse00Responsedatanonobject,
                rawResponse: _response.rawResponse,
            };
        }

        if (_response.error.reason === "status-code") {
            switch (_response.error.statusCode) {
                case 400:
                    throw new Payabli.BadRequestError(_response.error.body as unknown, _response.rawResponse);
                case 401:
                    throw new Payabli.UnauthorizedError(_response.error.body as unknown, _response.rawResponse);
                case 500:
                    throw new Payabli.InternalServerError(_response.error.body as unknown, _response.rawResponse);
                case 503:
                    throw new Payabli.ServiceUnavailableError(
                        _response.error.body as Payabli.PayabliApiResponse,
                        _response.rawResponse,
                    );
                default:
                    throw new errors.PayabliError({
                        statusCode: _response.error.statusCode,
                        body: _response.error.body,
                        rawResponse: _response.rawResponse,
                    });
            }
        }

        return handleNonStatusCodeError(_response.error, _response.rawResponse, "PUT", "/Boarding/app/{appId}");
    }
}
